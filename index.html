<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <style>.img-fluid{ 
        float: none;
        margin-left: 20%;
        margin-right: 20%;
        width: 60%;
        height: auto;
    }</style>
    <title>simple news app </title>
</head>
<body>
    <div id="container" class="container">
        
<h1 class="text-center bg-success">News API Handling</h1>
<div class="row">
    <div class="col-sm">
        <button onclick="ShowNews(`in`)" class="success btn-success btn-block"> INDIA</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`us`)"  class="success btn-success btn-block"> USA</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`au`)"  class="success btn-success btn-block"> Australia</button>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
        <button onclick="ShowNews(`ru`)" class="success btn-success btn-block"> Russia</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`nz`)"  class="success btn-success btn-block"> New Zealand</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`jp`)"  class="success btn-success btn-block"> Japan</button>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
        <button onclick="GlobalNews()" class="success btn-success btn-block"> Afganistan</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`ae`)"  class="success btn-success btn-block"> UAE</button>
    </div>
    <div class="col-sm">
        <button onclick="GlobalNews()"  class="success btn-success btn-block"> Armenia</button>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
        <button onclick="GlobalNews()" class="success btn-success btn-block"> Antarctica</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`ar`)"  class="success btn-success btn-block"> Argentina</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`at`)"  class="success btn-success btn-block"> Austria</button>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
        <button onclick="ShowNews(`ch`)" class="success btn-success btn-block"> Switzerland</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`cn`)"  class="success btn-success btn-block"> China</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`eg`)"  class="success btn-success btn-block"> Egypt</button>
    </div>
  </div>

  <div class="row">
    <div class="col-sm">
        <button onclick="ShowNews(`es`)" class="success btn-success btn-block"> Spain</button>
    </div>
    <div class="col-sm">
        <button onclick="GlobalNews()"  class="success btn-success btn-block"> Fiji</button>
    </div>
    <div class="col-sm">
        <button onclick="ShowNews(`fr`)"  class="success btn-success btn-block"> France</button>
    </div>
  </div>



    </div>
    <button onclick="GlobalNews()"  class="success btn-info btn-block">Global News Updates</button>
    <img src="https://cdn.pixabay.com/photo/2019/04/29/16/11/new-4166472_960_720.png" alt=""  class="img-fluid"  >


    <script src="https://sonooo.github.io/News-API-handling/app.js"></script>
    <script >


const ShowNews =(country)=>{

    
fetch(`https://newsapi.org/v2/top-headlines?country=${country}&apiKey=2be01d9455a54f9f86c3e324b33bb653`)
.then(response => response.json())
.then(data => {
    //data.articles[1].title
    for (var i = 0; i < data.articles.length; i++) {

        const container = document.querySelector('#container');

        const headline = document.createElement('h5');
        const para = document.createElement('p');
        const content = document.createElement('p')

        headline.classList.add('headline');
        headline.classList.add("bg-info");

        headline.classList.add('text-center');

        para.classList.add('p')
        para.classList.add('text-justify')
        para.classList.add('bg-light')


        content.classList.add('text-muted')

        headline.textContent =data.articles[i].title ;
        para.textContent=data.articles[i].description;
        content.textContent=data.articles[i].content;

        container.appendChild(headline);
        container.appendChild(para);
        container.appendChild(content)



    }

})
.catch(err => console.log(err))
}




const GlobalNews = () => {


    fetch(`https://newsapi.org/v2/everything?q=Apple&from=2021-11-13&sortBy=popularity&apiKey=2be01d9455a54f9f86c3e324b33bb653`)
        .then(response => response.json())
        .then(data => {
            //data.articles[1].title
            for (var i = 0; i < data.articles.length; i++) {

                const container = document.querySelector('#container');

                const headline = document.createElement('h5');
                const para = document.createElement('p');
                const content = document.createElement('p')

                headline.classList.add('headline');
                headline.classList.add("bg-info");

                headline.classList.add('text-center');

                para.classList.add('p')
                para.classList.add('text-justify')
                para.classList.add('bg-light')


                content.classList.add('text-muted')

                headline.textContent = data.articles[i].title;
                para.textContent = data.articles[i].description;
                content.textContent = data.articles[i].content;

                container.appendChild(headline);
                container.appendChild(para);
                container.appendChild(content)



            }

        })
        .catch(err => console.log(err))
}
</script>
    <!-- <script src="./regex.js"></script> -->

</body>
</html>
